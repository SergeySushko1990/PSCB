файл bintest.dmp дамп тестовой БД

Если его не удастся восстановить, то можно создать пустую тестовую БД и таблицу в ней согласно файлу table.sql

Файлы *_bins.xml содержат диапазоны возможных номеров платежных карт в разрезе валют и продуктов.

Каждая запись в XML представляет собой один диапазон.

Необходимо реализовать консольным скриптом на языке PHP разбор данных файлов и загрузку их в таблицу bins согласно следующим правилам.

- поле bin заполняется из первых 6 цифр полей LO_RANGE/HI_RANGE файла
- поле name заполняется из поля BANK_NAME файла
- поле code заполняется из поля BILCURRENCY_CODE файла

При этом некоторые записи в XML не позволяют однозначно сопоставить первые 6 цифр полей LO_RANGE/HI_RANGE одному BANK_NAME, BILCURRENCY_CODE
например для диапазонов, начинающихся с 56146, встречаются различные BANK_NAME. А для диапазонов, начинающихся с 561468 встречаются как различные BANK_NAME, так и различные BILCURRENCY_CODE.

Для таких диапазонов алгоритм сохранения их в БД таков:

- если для всех диапазонов, начиниающихся на конкретные 6 цифр, различаются только BANK_NAME, а BILCURRENCY_CODE одинаковый, то такой диапазон сохраняется в БД со словом "DIFFERENT" в поле name;
- если для всех диапазонов, начиниающихся на конкретные 6 цифр, различаются BILCURRENCY_CODE, то такой диапазон такой диапазон сохраняется в БД со словом "DIFFERENT" в поле name, "MIX" в поле code,
  и, дополнительно, все его "поддиапазоны" выгружаются в файл "diff.txt" в виде CSV-строк формата LO_RANGE,HI_RANGE,BANK_NAME,BILCURRENCY_CODE, отсортированных по возрастанию LO_RANGE;

При сохранении любой информации в БД необходимо проверять, есть ли в ней уже данные по конкретному bin, и, если нет, то "добавлять", если есть, то "обновлять";

Провести первичную загрузку из файла some_bins.xml
Для проверки корректности обновления данных провести повторную загрузку из файла another_bins.xml;